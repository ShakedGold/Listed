name: Build and Deploy to gh-pages

on:
  push:
    branches:
      - development

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Install dependencies and build
      run: |
        npm install
        npm run build

    - name: Deploy to gh-pages
      run: |
	  	git config --global user.name 'GitHub Actions'
		git config --global user.email '
		git checkout -b gh-pages
		git add -f dist
		git commit -m "Deploy to gh-pages"
		git push -f origin gh-pages
